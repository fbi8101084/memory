!function(t){function n(){this.stack=[],this.index=0,this.isRun=!1}function i(){return["btn-red","btn-blue","btn-yellow","btn-pink","btn-green","btn-aliceblue","btn-cyan","btn-gray","btn-aquamarine"]}function e(){var n=t(".press-btn"),e=i();o=[],r=0,n.each(function(){var n=Math.floor(Math.random()*e.length),i=e.splice(n,1)[0];t(this).addClass(i)})}function a(){e(),alert("準備好了嗎？");for(var n=0;n<t.config.level;n++)o.push(Math.floor(9*Math.random()));s()}function s(){var n=t(".press-btn");t.each(o,function(t,i){c.add(function(){n.eq(i).addClass("active"),setTimeout(function(){n.eq(i).removeClass("active")},500)},800)}),c.run()}n.prototype.add=function(t,n){this.isRun||this.stack.push({time:n>=0?n:0,callback:"function"==typeof t?t:function(){}})},n.prototype.clear=function(){this.stack=[],this.index=0,this.isRun=!1},n.prototype.run=function(){var t=this;if(this.index<this.stack.length){this.isRun=!0;var n=this.stack[this.index];n.callback(),setTimeout(function(){t.index++,t.run()},n.time)}else this.clear()};var c=new n,o=[],r=0;t.config={level:3},t(function(){var n=t(".press-btn");n.on("click",function(){o[r]!==t(this).index()?(alert("你按錯了！！！！遊戲結束 :D"),confirm("再來一次？")&&a()):(r++,r==o.length&&(alert("全部答對！！！！遊戲結束 :D"),confirm("再來一次？")&&a()))}),a()})}(jQuery);